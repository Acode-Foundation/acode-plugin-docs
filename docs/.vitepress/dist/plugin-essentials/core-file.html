<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Plugin Main File | VitePress</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.2.3">
    <link rel="preload stylesheet" href="/assets/style.AUoF7fN4.css" as="style">
    
    <script type="module" src="/assets/app.CMtmUmsZ.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.BlxYlo1f.js">
    <link rel="modulepreload" href="/assets/chunks/theme.BioXbqvK.js">
    <link rel="modulepreload" href="/assets/plugin-essentials_core-file.md.D_OjG-_z.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-22a7b46f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-843e87e3></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-843e87e3> Skip to content </a><!--]--><!----><header class="VPNav" data-v-22a7b46f data-v-71062381><div class="VPNavBar top" data-v-71062381 data-v-b89a6b74><div class="wrapper" data-v-b89a6b74><div class="container" data-v-b89a6b74><div class="title" data-v-b89a6b74><div class="VPNavBarTitle" data-v-b89a6b74 data-v-6ffc67e6><a class="title" href="/" data-v-6ffc67e6><!--[--><!--]--><!----><span data-v-6ffc67e6>VitePress</span><!--[--><!--]--></a></div></div><div class="content" data-v-b89a6b74><div class="content-body" data-v-b89a6b74><!--[--><!--]--><div class="VPNavBarSearch search" data-v-b89a6b74><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-b89a6b74 data-v-fb6229a3><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-fb6229a3 data-v-566ef790 data-v-aa1bea07><span class="check" data-v-aa1bea07><span class="icon" data-v-aa1bea07><!--[--><span class="vpi-sun sun" data-v-566ef790></span><span class="vpi-moon moon" data-v-566ef790></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-b89a6b74 data-v-a0215754 data-v-e3cdbb30><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-e3cdbb30><span class="vpi-more-horizontal icon" data-v-e3cdbb30></span></button><div class="menu" data-v-e3cdbb30><div class="VPMenu" data-v-e3cdbb30 data-v-9ff352be><!----><!--[--><!--[--><!----><div class="group" data-v-a0215754><div class="item appearance" data-v-a0215754><p class="label" data-v-a0215754>Appearance</p><div class="appearance-action" data-v-a0215754><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-a0215754 data-v-566ef790 data-v-aa1bea07><span class="check" data-v-aa1bea07><span class="icon" data-v-aa1bea07><!--[--><span class="vpi-sun sun" data-v-566ef790></span><span class="vpi-moon moon" data-v-566ef790></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-b89a6b74 data-v-0b3e117b><span class="container" data-v-0b3e117b><span class="top" data-v-0b3e117b></span><span class="middle" data-v-0b3e117b></span><span class="bottom" data-v-0b3e117b></span></span></button></div></div></div></div><div class="divider" data-v-b89a6b74><div class="divider-line" data-v-b89a6b74></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-22a7b46f data-v-5768471c><div class="container" data-v-5768471c><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-5768471c data-v-ab503f1a><button data-v-ab503f1a>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-22a7b46f data-v-27be1ec1><div class="VPDoc has-aside" data-v-27be1ec1 data-v-6cbecd84><!--[--><!--]--><div class="container" data-v-6cbecd84><div class="aside" data-v-6cbecd84><div class="aside-curtain" data-v-6cbecd84></div><div class="aside-container" data-v-6cbecd84><div class="aside-content" data-v-6cbecd84><div class="VPDocAside" data-v-6cbecd84 data-v-b6513116><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-b6513116 data-v-10ddd328><div class="content" data-v-10ddd328><div class="outline-marker" data-v-10ddd328></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-10ddd328>On this page</div><ul class="VPDocOutlineItem root" data-v-10ddd328 data-v-42513ebd><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-b6513116></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-6cbecd84><div class="content-container" data-v-6cbecd84><!--[--><!--]--><main class="main" data-v-6cbecd84><div style="position:relative;" class="vp-doc _plugin-essentials_core-file" data-v-6cbecd84><div><h1 id="plugin-main-file" tabindex="-1">Plugin Main File <a class="header-anchor" href="#plugin-main-file" aria-label="Permalink to &quot;Plugin Main File&quot;">​</a></h1><p>The <code>main.js</code>(can be of any name but that must be specified in <code>plugin.json</code>) file is the heart of your Acode plugin, serving as the entry point and execution hub when the plugin is loaded. Here we&#39;ll explore the essential concept of <code>main.js</code>, focusing on initialization, registration, and cleanup.</p><h2 id="plugin-initialization" tabindex="-1">Plugin Initialization <a class="header-anchor" href="#plugin-initialization" aria-label="Permalink to &quot;Plugin Initialization&quot;">​</a></h2><h3 id="entry-point-for-your-plugin" tabindex="-1">Entry Point for Your Plugin <a class="header-anchor" href="#entry-point-for-your-plugin" aria-label="Permalink to &quot;Entry Point for Your Plugin&quot;">​</a></h3><p>The <code>main.js</code> file acts as the entry point for your Acode plugin. It is executed upon loading, providing the ideal space to initialize and configure your plugin.</p><h3 id="access-to-acode-api" tabindex="-1">Access to Acode API <a class="header-anchor" href="#access-to-acode-api" aria-label="Permalink to &quot;Access to Acode API&quot;">​</a></h3><p>Within <code>main.js</code>, you gain access to the Acode API through the global variable <a href="./../global-apis/acode.html">acode</a>. This variable serves as your gateway to interact with various Acode methods, enabling seamless integration of your plugin with the editor.</p><h3 id="registering-your-plugin" tabindex="-1">Registering Your Plugin <a class="header-anchor" href="#registering-your-plugin" aria-label="Permalink to &quot;Registering Your Plugin&quot;">​</a></h3><p>To register your plugin, utilize the <code>acode.setPluginInit(pluginId: string, init: Function)</code> method. This method requires two parameters:</p><ol><li><p><strong>pluginId:</strong></p><ul><li>The unique identifier for your plugin.</li></ul></li><li><p><strong>init function:</strong></p><ul><li>The function to be executed when the plugin is loaded.</li></ul></li></ol><p>Upon execution, the <code>init</code> function will receive three parameters:</p><ul><li><p><strong>baseUrl (string):</strong></p><ul><li>The base URL of the plugin, allowing access to files within the plugin directory.</li></ul></li><li><p><strong>$page (WcPage):</strong></p><ul><li>A page object that facilitates the display of content within Acode.</li></ul></li><li><p><strong>cache (object):</strong></p><ul><li>An object providing access to cached files, including: <ul><li><strong>cacheFileUrl (string):</strong><ul><li>URL of the cached file.</li></ul></li><li><strong>cacheFile (File):</strong><ul><li>File object of the cached file, enabling file read/write operations.</li></ul></li></ul></li></ul></li></ul><h3 id="example-main-js-file" tabindex="-1">Example main.js File <a class="header-anchor" href="#example-main-js-file" aria-label="Permalink to &quot;Example main.js File&quot;">​</a></h3><p>Here&#39;s an illustrative example of a <code>main.js</code> file:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">acode.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setPluginInit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;com.example.plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">baseUrl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">$page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">commands</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> editorManager.editor;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  commands.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;example-plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bindKey: { win: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Ctrl-Alt-E&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, mac: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Command-Alt-E&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      $page.innerHTML </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &lt;h1&gt;Example Plugin&lt;/h1&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &lt;p&gt;This is an example plugin.&lt;/p&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      `</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      $page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="plugin-unmount-function" tabindex="-1">Plugin Unmount Function <a class="header-anchor" href="#plugin-unmount-function" aria-label="Permalink to &quot;Plugin Unmount Function&quot;">​</a></h2><p>The <code>main.js</code> file must also define an unmount function, which is called when the plugin is unloaded or uninstalled. This function allows you to perform cleanup operations associated with your plugin.</p><h3 id="example-unmount-function" tabindex="-1">Example Unmount Function <a class="header-anchor" href="#example-unmount-function" aria-label="Permalink to &quot;Example Unmount Function&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">acode.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setPluginUnmount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;com.example.plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">commands</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> editorManager.editor;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  commands.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;example-plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>In this example, the unmount function removes the &#39;example-plugin&#39; command, ensuring that the plugin&#39;s impact on Acode is cleanly reverted upon unloading.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>You will not need to write this <code>unmount</code> or <code>initialize</code> functions for your plugin because templates comes with it , just you will need to write your plugin code inside the <code>AcodePlugin class</code></p></div></div></div></main><footer class="VPDocFooter" data-v-6cbecd84 data-v-960e8acd><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"getting-started_create-plugin.md\":\"CVxnUZsl\",\"editor-components_page.md\":\"Cvn-ia4c\",\"editor-components_editor-file.md\":\"D8kDK9Eq\",\"index.md\":\"BQbhzRph\",\"utilities_url.md\":\"CEl1uu11\",\"helpers_theme-builder.md\":\"B91wdCWU\",\"utilities_open-folder.md\":\"B6tTydXG\",\"ui-components_toast.md\":\"Bv4kmGF8\",\"advanced-apis_intent.md\":\"CAE0BGBh\",\"helpers_themes.md\":\"CNlwQ2js\",\"getting-started_understanding-plugin.md\":\"xz-YqAFd\",\"ui-components_dialogs_select.md\":\"D1oklwNR\",\"ui-components_dialogs_multi-prompt.md\":\"Di4MZv6S\",\"global-apis_global-utilities.md\":\"DJNjM09e\",\"ui-components_dialogs_loader.md\":\"BoE-IwEy\",\"getting-started_intro.md\":\"XcyKu46_\",\"editor-components_palette.md\":\"i6B_DNHx\",\"interface-apis_context-menu.md\":\"Dj-ujD7W\",\"interface-apis_sidebar-apps.md\":\"bcQwTptO\",\"helpers_fonts.md\":\"BB317qQa\",\"editor-components_file-list.md\":\"CR_d-Lq2\",\"utilities_encoding.md\":\"B2zdo5Ld\",\"ui-components_selection-menu.md\":\"BKpi1qQA\",\"ui-components_dialogs_alert.md\":\"BC3mDeYw\",\"ui-components_dialogs_confirm.md\":\"CiqM-j_R\",\"interface-apis_side-buttons.md\":\"DCuyoI50\",\"ui-components_dialogs_prompt.md\":\"D1O6r6kR\",\"global-apis_ace.md\":\"B9FxSSjC\",\"advanced-apis_action-stack.md\":\"B2fyieCv\",\"global-apis_acode.md\":\"BRersmPF\",\"global-apis_added-folder.md\":\"JRNlXo-f\",\"editor-components_settings.md\":\"DQqZd2WX\",\"ui-components_dialogs_custom-dialog.md\":\"BXHyJ7XW\",\"plugin-essentials_core-file.md\":\"D_OjG-_z\",\"utilities_fs.md\":\"BS46V2nE\",\"plugin-essentials_manifest.md\":\"BxKhoMf9\",\"global-apis_editor-manager.md\":\"DFP6m1r4\",\"utilities_ace-modes.md\":\"DfKdAGQC\",\"helpers_input-hints.md\":\"2WeXojTb\",\"ui-components_dialogs_color-picker.md\":\"D3ur1KvP\",\"utilities_projects.md\":\"DPDIuZ1o\",\"editor-components_file-browser.md\":\"B-Flz5h_\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"VitePress\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>